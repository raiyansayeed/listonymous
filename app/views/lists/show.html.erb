<p id="notice"><%= notice %></p>
<%= link_to 'Back', lists_path %>

<div>
<h1>
  <strong>Title:</strong>
  <%= @list.title %>
</h1>
<h3>
  <strong>Categories:</strong>
  <% @list.categories.each do |c| %>
    <%= c.title %>
  <% end %>
  <%#= @list.category_ids %>
</h3>
</div>

<div>
  Number of viewers 
  <p id="num-viewers"><%= @num_viewers %> </p>
</div>
<%#= button_to 'Copy text', create_copy_text_list_path(@list), method: :get, remote: true %>
<div data-controller="list" data-list-id-value="<%= @list.id %>">
  <button class="btn btn-info mt-4" data-action="click->list#copyText" id="copyText">Copy text</button>
  <div class="mt-4">
  <%= render partial: "text_message_form", locals: { message: @list.text_messages.build, list_id: @list.id } %>
  </div>
  <div id="messages">
    <% @list.text_messages.order(created_at: :desc).each do |text_message| %>
      <%= render partial: "text_messages/message", locals: {message: text_message} %>
    <% end %>
  </div>
</div>
<%#= link_to 'Edit', edit_list_path(@list) %>
