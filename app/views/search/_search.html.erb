<h1> Search </h1>

<% if false %>

<%= form_with url: lists_path do |f| %>
    <%= f.text_field :search, value: params[:search], autocomplete: "off", data: { reflex: "input->ListSearch#search"} %>
    <%#= f.submit "Search" %>
    <% if params[:search].present? %>
        <a href="#" data-action="click->ListSearch#reset">Clear search</a>
    <% end %>
<% end %>

<% end %>

<%= form_with url: search_path, method: :get do |f| %>
    <%= f.text_field :search, value: params[:search], autocomplete: "off" %>
    <%= f.submit "Search" %>
<% end %>

<div>
Filter results

Categories

<% @categories.all.each do |c| %>
<%= c.title %>
<% end %>

Min number of words



</div>

<table id="list-table">
  <thead>
    <tr>
      <th>Title</th>
      <th>Categories</th>
      <% if false %>
      <th><%= link_to "Created at", search_path(:sort_created_at => params[:sort_created_at] == true.to_s ? false : true) %></th>
      <th><%= link_to "Last updated", search_path(:sort_updated_at => params[:sort_updated_at] == true.to_s ? false : true) %></th>
      <th><%= link_to "Number of copies", search_path(:sort_num_copies => params[:sort_num_copies] == true.to_s ? false : true) %></th>
      <th><%= link_to "Number of items", search_path(:sort_num_items => params[:sort_num_items] == true.to_s ? false : true) %></th>
      <% end %>
      <th>Created at</th>
      <th>Updated at</th>
      <th>Number of copies</th>
      <th>Number of items</th>
      <th colspan="3"></th>
    </tr>
  </thead>
  <%#= render "category_form" %>
  <%= render "search_results", lists: @lists %>
  <script>
$(document).ready( function () {
    $('#list-table').DataTable({
      autoFill: true
    });
} );
</script>

</table>