<div class="d-flex justify-content-center mt-4">
<% if false %>
  <%= form_with url: lists_path do |f| %>
    <%= f.text_field :search, value: params[:search], autocomplete: "off", data: { reflex: "input->ListSearch#search"} %>
    <%#= f.submit "Search" %>
    <% if params[:search].present? %>
      <a href="#" data-action="click->ListSearch#reset">Clear search</a>
    <% end %>
  <% end %>
<% end %>
<%= search_form_for @q, url: search_path do |f| %>
  <%= f.search_field :title_cont %>

  <%= f.label "Categories" %>
  <%= f.collection_select :categories_id_in, Category.all.order(:title), :id, :title, {class: ''} %>

  <%= f.submit %>
<% end %>
</div>
<% if false %>
  <%= form_with url: search_path, method: :get do |f| %>
    <%= f.text_field :search, value: params[:search], autocomplete: "off" %>
    <%= f.submit "Search" %>
  <% end %>
<% end %>
<div class="m-4" data-controller="infinite-scroll" data-action="scroll@window->infinite-scroll#scroll">
  <div data-infinite-scroll-target="entries">
    <%= render "search_results" %>
  </div>
  <div data-infinite-scroll-target="pagination">
    <%== pagy_bootstrap_nav(@pagy) %>
  </div>
</div>
